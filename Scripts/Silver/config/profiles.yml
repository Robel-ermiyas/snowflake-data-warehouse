# =====================================================================
# dbt Profiles Configuration Template
# ---------------------------------------------------------------------
# Copy this file to: 
#   - Linux/Mac:   ~/.dbt/profiles.yml
#   - Windows:     %USERPROFILE%\.dbt\profiles.yml
#
# Then fill in your actual credentials.
# =====================================================================

silver_layer:
  target: dev
  outputs:
    dev:
      type: snowflake
      account: your_snowflake_account        # e.g., xy12345.us-east-1
      user: your_username                    # Snowflake username
      password: your_password                # Consider keypair auth for production
      role: transformer_role                 # Snowflake role with read/write permissions
      database: your_database                # e.g., analytics
      warehouse: transforming_wh             # Snowflake warehouse for dbt
      schema: silver                         # Target schema for models
      threads: 4                             # Number of concurrent threads
      client_session_keep_alive: false
      query_tag: dbt_silver_layer

    prod:
      type: snowflake
      account: your_snowflake_account
      user: your_service_account             # Service account for production
      password: your_service_password        # Use keypair authentication in production
      role: transformer_role
      database: analytics_prod
      warehouse: transforming_wh
      schema: silver
      threads: 8                             # More threads for production
      client_session_keep_alive: false
      query_tag: dbt_silver_layer_prod

# =====================================================================
# Environment Variable Configuration (Recommended for CI/CD)
# ---------------------------------------------------------------------
# Instead of hardcoding credentials, export them as environment variables:
#
# export SNOWFLAKE_ACCOUNT=your_account
# export SNOWFLAKE_USER=your_user
# export SNOWFLAKE_PASSWORD=your_password
# export SNOWFLAKE_DATABASE=your_database
# export SNOWFLAKE_WAREHOUSE=your_warehouse
# =====================================================================

silver_layer_env_vars:
  target: dev
  outputs:
    dev:
      type: snowflake
      account: "{{ env_var('SNOWFLAKE_ACCOUNT') }}"
      user: "{{ env_var('SNOWFLAKE_USER') }}"
      password: "{{ env_var('SNOWFLAKE_PASSWORD') }}"
      role: "{{ env_var('SNOWFLAKE_ROLE', 'transformer_role') }}"
      database: "{{ env_var('SNOWFLAKE_DATABASE') }}"
      warehouse: "{{ env_var('SNOWFLAKE_WAREHOUSE') }}"
      schema: silver
      threads: 4
      client_session_keep_alive: false
      query_tag: dbt_silver_layer_env
